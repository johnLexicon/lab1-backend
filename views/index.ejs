<!DOCTYPE html>
<html lang="en">

<%- include('./partials/head.ejs') %>

  <body class="bg-dark text-light">
    <header class="text-light mt-4 py-3">
      <form method="POST" action="/todos/new" id="todoForm" class="container">
        <div class="input-group mb-3">
          <input name="title" required minlength="2" maxlength="35" id="titleInput" minlength="2" type="text"
            class="form-control bg-dark text-light border-secondary" placeholder="Todo text" aria-label="Todo text"
            aria-describedby="newTodo">
          <button class="btn btn-danger" type="submit" id="newTodo">Add Todo</button>
        </div>
      </form>
    </header>
    <section id="todos" class="mt-3 container bg-secondary vh-100 py-3 opacity-75 rounded">
      <% if(todos.length===0) { %>
        <div class="mt-3 py-2 h1 text-light text-center bg-dark opacity-50">No todos available</div>
        <% } else { for(let todo of todos) { %>
          <div id="<%=todo.id%>"
            class="todo-wrapper bg-dark text-light p-3 mb-2 rounded shadow d-flex justify-content-between align-items-center rounded">
            <div data-status="<%=todo.completed%>" type="button" data-action="complete"
              class="todo-title flex-grow-1 fs-4 py-2 <%=todo.completed ? 'text-decoration-line-through' : ''%>">
              <%= todo.title %>
            </div>
            <div class="todo-btns ms-2">
              <span data-action="delete" class="del-button" type="button"><i
                  class="fa-solid fa-trash-can fa-lg text-danger"></i></span>
            </div>
          </div>
          <%}}%>
    </section>
    <div class="position-relative">
    </div>
    <script src="js/script.js"></script>
  </body>

</html>